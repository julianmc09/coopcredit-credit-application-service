# Application Name
spring.application.name=coopcredit-credit-application-service

# --- Database Configuration (PostgreSQL with Supabase) ---
spring.datasource.url=jdbc:postgresql://aws-0-us-west-2.pooler.supabase.com:5432/postgres
spring.datasource.username=postgres.nyuoiftxmdeltdilecdx
spring.datasource.password=Juli321512699.
spring.datasource.driver-class-name=org.postgresql.Driver

# --- JPA and Hibernate Configuration ---
spring.jpa.hibernate.ddl-auto=none 
spring.jpa.show-sql=true 
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true

# --- Flyway Configuration ---
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true
# Added to allow Flyway to baseline an existing schema
spring.flyway.schemas=public
# Added to explicitly tell Flyway to use the 'public' schema
# Default location for Flyway migration scripts

# --- HikariCP Connection Pool Configuration (to prevent connection issues with Supabase) ---
spring.datasource.hikari.maximum-pool-size=10
# Limit the maximum number of connections (adjust based on Supabase limits)
spring.datasource.hikari.minimum-idle=2
# Minimum number of idle connections to maintain
spring.datasource.hikari.connection-timeout=30000
# Maximum wait for a connection from the pool (30 seconds)
spring.datasource.hikari.idle-timeout=600000
# Maximum idle time for a connection in the pool (10 minutes)
spring.datasource.hikari.max-lifetime=1800000
# Maximum lifetime of a connection in the pool (30 minutes)
spring.datasource.hikari.leak-detection-threshold=2000
# Detect connections that are not closed within 2 seconds

# --- Risk Central Mock Service Configuration ---
risk-central.base-url=http://localhost:8081

# --- JWT Configuration ---
jwt.secret-key=p0xvM3NQd1JrN1F6R2F4OE1zWmZ6V2RpV0x4N1d3Z0dyS2duc2pGVlZ6T0d6d0p4R2tXaVNQajQ9

# --- Logging Configuration ---
logging.level.org.springframework.security=DEBUG
logging.level.org.springdoc=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.web=DEBUG
logging.level.com.riwi.io=DEBUG
